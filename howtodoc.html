<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISCE: How to document code in ISCE as a developer?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISCE
   &#160;<span id="projectnumber">3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How to document code in ISCE as a developer? </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#doccpp">C++ Documentation</a><ul><li class="level2"><a href="#docinlinecpp">Inline functions</a><ul><li class="level3"><a href="#docinlinecppzero">Part of data structure declaration with no input arguments</a></li>
<li class="level3"><a href="#docinlinecppone">Part of data structure declaration with one input argument</a></li>
<li class="level3"><a href="#docinlinecppmulti">With multiple inputs</a></li>
<li class="level3"><a href="#docinlinenamespace">Within namespaces</a></li>
</ul>
</li>
<li class="level2"><a href="#doccppregular">Regular functions</a><ul><li class="level3"><a href="#doccppregheader">Brief description in header file</a></li>
<li class="level3"><a href="#doccppregbody">Detailed description in function specfication</a></li>
</ul>
</li>
<li class="level2"><a href="#CUDA">CUDA</a></li>
</ul>
</li>
<li class="level1"><a href="#docpy">Cython/Python Documentation</a><ul><li class="level2"><a href="#docpyfunc">Functions</a><ul><li class="level3"><a href="#docpyfunczero">No return values</a></li>
<li class="level3"><a href="#docpyfuncone">One return value</a></li>
<li class="level3"><a href="#docpyfuncmay">Many return values</a></li>
</ul>
</li>
<li class="level2"><a href="#docpykwargs">Keyword arguments</a></li>
<li class="level2"><a href="#docpyclass">Classes</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="doccpp"></a>
C++ Documentation</h1>
<p>Developers are expected to document their functions using <a href="https://www.stack.nl/~dimitri/doxygen/manual/docblocks.html">Doxygen syntax</a>. Specific auto-documentation styles for various types of functions are shown below. We will base our examples on the code from <a class="el" href="Ellipsoid_8h_source.html">Ellipsoid.h</a> and Ellipsoid.cpp files in the source tree.</p>
<h2><a class="anchor" id="docinlinecpp"></a>
Inline functions</h2>
<h3><a class="anchor" id="docinlinecppzero"></a>
Part of data structure declaration with no input arguments</h3>
<p>These types of functions are typically defined in the struct/class definition itself and serve a simple purpose of returning a computed value. In this case, we will use a simple one line description. For example, <a class="el" href="classisce3_1_1core_1_1Ellipsoid.html#a67827ec8d63e329e16db6da8fcc67245" title="Return semi-major axis.">isce3::core::Ellipsoid::a()</a></p>
<div class="fragment"><div class="line"><span class="comment">/** Return semi-major axis */</span></div>
<div class="line"><span class="keywordtype">double</span> a()<span class="keyword"> const </span>{<span class="keywordflow">return</span> _a;}</div>
</div><!-- fragment --><h3><a class="anchor" id="docinlinecppone"></a>
Part of data structure declaration with one input argument</h3>
<p>These types of functions are typically defined in the struct/class definition itself and serve a simple purpose of setting a value with input or perform a simple computation with input. In this case, we will user the "brief" keyword from doxygen to provide a one line description and "param" keyword to describe the parameter in detail. For example, <a class="el" href="classisce3_1_1core_1_1Ellipsoid.html#a0161f4e7454ec99351813f45e9602702" title="Set semi-major axis.">isce3::core::Ellipsoid::a(double)</a></p>
<div class="fragment"><div class="line"><span class="comment">/** \brief Set semi-major axis </span></div>
<div class="line"><span class="comment"> </span></div>
<div class="line"><span class="comment">  @param[in] val Semi-major axis of ellipsoid in meters*/</span></div>
<div class="line"><span class="keywordtype">void</span> a(<span class="keywordtype">double</span> val) {_a = val;}</div>
</div><!-- fragment --><h3><a class="anchor" id="docinlinecppmulti"></a>
With multiple inputs</h3>
<p>These types of functions should typically not be defined in the struct/class definition. These are included either in the .h header file or the .icc include file. In this case, a brief one liner is provided as part of the function declaration in the header file followed by a detail description of the parameters just before the function specification in the header file or the .icc file. For example, documentation of function <a class="el" href="classisce3_1_1core_1_1Ellipsoid.html#af697cc327eb9c7a5c95c6bf16d8e3dae" title="Return directional local radius.">isce3::core::Ellipsoid::rDir</a> can be found in two places - first in the class declaration as</p>
<div class="fragment"><div class="line"><span class="comment">/**  Return local radius in NS direction */</span></div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">double</span> rDir(<span class="keywordtype">double</span> lat, <span class="keywordtype">double</span> hdg) <span class="keyword">const</span>;</div>
</div><!-- fragment --><p>and later in the header file, just before the function declaration as</p>
<div class="fragment"><div class="line"><span class="comment">/**  @param[in] hdg Heading in radians</span></div>
<div class="line"><span class="comment">    @param[in] lat Latitude in radians</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">    Heading is measured in clockwise direction from the North direction.</span></div>
<div class="line"><span class="comment">    See &lt;a href=&quot;https://en.wikipedia.org/wiki/Earth_radius#Directional&quot;&gt;Directional Radius&lt;/a&gt; */</span></div>
<div class="line"><span class="keywordtype">double</span> <a class="code" href="classisce3_1_1core_1_1Ellipsoid.html#af697cc327eb9c7a5c95c6bf16d8e3dae">isce3::core::Ellipsoid::rDir</a>(<span class="keywordtype">double</span> hdg, <span class="keywordtype">double</span> lat)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keyword">auto</span> re = <a class="code" href="classisce3_1_1core_1_1Ellipsoid.html#acd1117d1db6dbbe20266d2d6729435c1">rEast</a>(lat);</div>
<div class="line">    <span class="keyword">auto</span> rn = <a class="code" href="classisce3_1_1core_1_1Ellipsoid.html#a1d6fa6d997f40a22e32d76b1741cc4b8">rNorth</a>(lat);</div>
<div class="line">    <span class="keywordflow">return</span> (re * rn) / ((re * std::pow(std::cos(hdg), 2)) </div>
<div class="line">         + (rn * std::pow(std::sin(hdg), 2)));</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="docinlinenamespace"></a>
Within namespaces</h3>
<p>For functions that are defined within a namespace and are not a member of a class/struct (e.g., isce/core/Serialization.h), you must first indicate that comments within the file contain documentation for a header file using the "\file" command. Also, the namespace declarations must be commented. For example,</p>
<div class="fragment"><div class="line"><span class="comment">/**  \file isce/core/Serialization.h</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">   Serialization functions for isce3::core objects. */</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceisce3.html">isce3</a> {</div>
<div class="line">    <span class="keyword">namespace </span>core {</div>
</div><!-- fragment --><h2><a class="anchor" id="doccppregular"></a>
Regular functions</h2>
<h3><a class="anchor" id="doccppregheader"></a>
Brief description in header file</h3>
<p>For all regular C++ functions that are not inlined, a brief one line description must be provided in the header file irrespective the number of input arguments. For example, class <a class="el" href="classisce3_1_1core_1_1Ellipsoid.html#a5ddeaebf9c1d80c8068788b16bf0b43e" title="Transform ECEF xyz to Lon/Lat/Hgt.">isce3::core::Ellipsoid::xyzToLonLat</a></p>
<div class="fragment"><div class="line"><span class="comment">/**  Transform ECEC xyz to Lon/Lat/Hgt */</span></div>
<div class="line"><span class="keywordtype">void</span> xyzToLonLat(<span class="keyword">const</span> cartesian_t &amp;xyz, cartesian_t &amp;llh) <span class="keyword">const</span>;</div>
</div><!-- fragment --><h3><a class="anchor" id="doccppregbody"></a>
Detailed description in function specfication</h3>
<p>The detailed description of individual parameters must be provided just before the function specification. The detailed description can also include math equations and references to publications or reports. For example, <a class="el" href="classisce3_1_1core_1_1Ellipsoid.html#a5ddeaebf9c1d80c8068788b16bf0b43e" title="Transform ECEF xyz to Lon/Lat/Hgt.">isce3::core::Ellipsoid::xyzToLonLat</a></p>
<div class="fragment"><div class="line"><span class="comment">/**  @param[in] xyz ECEF Cartesian coordinates in meters. </span></div>
<div class="line"><span class="comment">    @param[out] llh Latitude (rad), Longitude(rad), Height (m).</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">    Using the approach laid out in Vermeille, 2002 \cite vermeille2002direct */</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classisce3_1_1core_1_1Ellipsoid.html#a5ddeaebf9c1d80c8068788b16bf0b43e">isce3::core::Ellipsoid::</a></div>
<div class="line"><a class="code" href="classisce3_1_1core_1_1Ellipsoid.html#a5ddeaebf9c1d80c8068788b16bf0b43e">xyzToLonLat</a>(<span class="keyword">const</span> cartesian_t &amp; xyz, cartesian_t &amp; llh)<span class="keyword"> const </span>{</div>
</div><!-- fragment --><h2><a class="anchor" id="CUDA"></a>
CUDA</h2>
<p>Doxygen interprets CUDA code in the same manner as C/C++. Use the same style guidelines as regular C++ code for documenting the CUDA code.</p>
<h1><a class="anchor" id="docpy"></a>
Cython/Python Documentation</h1>
<p>Developers are expected to document their functions using <a href="http://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">Google Style docstrings</a>. ISCE uses sphinx with the autodoc, autosummary and napoleon extensions. We will base our examples on the code from pyEllipsoid.pyx file in the extensions folder of the source tree.</p>
<h2><a class="anchor" id="docpyfunc"></a>
Functions</h2>
<p>Cython/Python docstrings must clearly include sections for Args and Returns. Each of the Args entries must include a python type expected by the function. Note that in case of Cython, the type could also be optionally included as a part of the function signature in the input arguments. However, the python type should always be included in the docstrings.</p>
<h3><a class="anchor" id="docpyfunczero"></a>
No return values</h3>
<p>For example, pyEllipsoid.copyFrom</p>
<div class="fragment"><div class="line">def copyFrom(self, elp):</div>
<div class="line">    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="stringliteral">    Copy ellipsoid parameters with any class that has semi-major axis and eccentricity parameters.</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="stringliteral">        elp (obj): Any python object that has attributes a and e2.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="stringliteral">        None</span></div>
<div class="line"><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line">    ...</div>
</div><!-- fragment --><h3><a class="anchor" id="docpyfuncone"></a>
One return value</h3>
<p>For example, pyEllipsoid.rDir</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>rDir(self, double lat, double hdg):</div>
<div class="line">    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="stringliteral">    Directional radius as a function of heading and latitude.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="stringliteral">        lat (float): Latitude in radians</span></div>
<div class="line"><span class="stringliteral">        hdg (float): Heading in radians. Measured clockwise from North.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="stringliteral">        float: Directional radius in meters.</span></div>
<div class="line"><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line">    <span class="keywordflow">return</span> self.c_ellipsoid.rDir(lat, hdg)</div>
</div><!-- fragment --><h3><a class="anchor" id="docpyfuncmay"></a>
Many return values</h3>
<p>If a function returns multiple values, the return type must be clearly indicated as tuple. The order of the returned results in the tuple must then be included in a list. For example, pyEllipsoid.getTCNbasis</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>TCNbasis(self, list pos, list vel):</div>
<div class="line">    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="stringliteral">    Compute TCN basis from platform position and velocity.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="stringliteral">        pos (list): triplet of floats representing ECEF position in meters</span></div>
<div class="line"><span class="stringliteral">        vel (list): triplet of floats representing ECEF velocity in meters / sec</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="stringliteral">        (tuple): tuple containing:</span></div>
<div class="line"><span class="stringliteral">              that (list) - Tangential unit vector, almost aligned with velocity</span></div>
<div class="line"><span class="stringliteral">              chat (list) - Cross track unit vector</span></div>
<div class="line"><span class="stringliteral">              nhat (list) - Normal unit vector pointing downwards</span></div>
<div class="line"><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line">    ...</div>
</div><!-- fragment --><h2><a class="anchor" id="docpykwargs"></a>
Keyword arguments</h2>
<p>Keyword arguments are also listed under the Args section of the docstring but are clearly labelled as optional. For example</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>exampleFunction(angle, degrees=False):</div>
<div class="line">    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="stringliteral">    This is a dummy function to demonstrate keyword argument documentation.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="stringliteral">        angle (float): Angle to compute the function for</span></div>
<div class="line"><span class="stringliteral">        degrees (Optional[float]): Flag to indicate if input angle is in degrees</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="stringliteral">        float: Function evaluated at the input angle</span></div>
<div class="line"><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line">    ...</div>
</div><!-- fragment --><h2><a class="anchor" id="docpyclass"></a>
Classes</h2>
<p>Python class documentation will be extracted from the docstring immediately following the class declaration. Note that class constructors are special and should not be documented in the function. Instead the docstring following the class declaration should describe the arguments expected by the class constructor. For example,for class pyEllipsoid</p>
<div class="fragment"><div class="line">cdef <span class="keyword">class </span>pyEllipsoid:</div>
<div class="line">    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="stringliteral">    Python wrapper for isce3::core::Ellipsoid</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="stringliteral">        a (Optional[float]): Semi-major axis of Ellipsoid in m.</span></div>
<div class="line"><span class="stringliteral">        e2 (Optional[float]): Eccentricity-squared.</span></div>
<div class="line"><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line">    ...</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="anamespaceisce3_html"><div class="ttname"><a href="namespaceisce3.html">isce3</a></div><div class="ttdoc">The isce namespace.</div><div class="ttdef"><b>Definition:</b> forward.h:3</div></div>
<div class="ttc" id="aclassisce3_1_1core_1_1Ellipsoid_html_a5ddeaebf9c1d80c8068788b16bf0b43e"><div class="ttname"><a href="classisce3_1_1core_1_1Ellipsoid.html#a5ddeaebf9c1d80c8068788b16bf0b43e">isce3::core::Ellipsoid::xyzToLonLat</a></div><div class="ttdeci">CUDA_HOSTDEV void xyzToLonLat(const cartesian_t &amp;xyz, cartesian_t &amp;llh) const</div><div class="ttdoc">Transform ECEF xyz to Lon/Lat/Hgt.</div><div class="ttdef"><b>Definition:</b> Ellipsoid.h:207</div></div>
<div class="ttc" id="aclassisce3_1_1core_1_1Ellipsoid_html_a1d6fa6d997f40a22e32d76b1741cc4b8"><div class="ttname"><a href="classisce3_1_1core_1_1Ellipsoid.html#a1d6fa6d997f40a22e32d76b1741cc4b8">isce3::core::Ellipsoid::rNorth</a></div><div class="ttdeci">CUDA_HOSTDEV double rNorth(double lat) const</div><div class="ttdoc">Return local radius in NS direction.</div><div class="ttdef"><b>Definition:</b> Ellipsoid.h:137</div></div>
<div class="ttc" id="aclassisce3_1_1core_1_1Ellipsoid_html_af697cc327eb9c7a5c95c6bf16d8e3dae"><div class="ttname"><a href="classisce3_1_1core_1_1Ellipsoid.html#af697cc327eb9c7a5c95c6bf16d8e3dae">isce3::core::Ellipsoid::rDir</a></div><div class="ttdeci">CUDA_HOSTDEV double rDir(double hdg, double lat) const</div><div class="ttdoc">Return directional local radius.</div><div class="ttdef"><b>Definition:</b> Ellipsoid.h:148</div></div>
<div class="ttc" id="aclassisce3_1_1core_1_1Ellipsoid_html_acd1117d1db6dbbe20266d2d6729435c1"><div class="ttname"><a href="classisce3_1_1core_1_1Ellipsoid.html#acd1117d1db6dbbe20266d2d6729435c1">isce3::core::Ellipsoid::rEast</a></div><div class="ttdeci">CUDA_HOSTDEV double rEast(double lat) const</div><div class="ttdoc">Return local radius in EW direction.</div><div class="ttdef"><b>Definition:</b> Ellipsoid.h:127</div></div>
<hr>
Generated for ISCE3.0 by
<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.20.
</body>
</html>
